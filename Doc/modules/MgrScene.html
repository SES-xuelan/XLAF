<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>doc</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>doc</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../modules/appyeast.html">appyeast</a></li>
  <li><a href="../modules/class_Keyboard.html">class_Keyboard</a></li>
  <li><a href="../modules/dmc_objects.html">dmc_objects</a></li>
  <li><a href="../modules/dmc_utils.html">dmc_utils</a></li>
  <li><a href="../modules/enc.html">enc</a></li>
  <li><a href="../modules/fps.html">fps</a></li>
  <li><a href="../modules/lib_text_candy.html">lib_text_candy</a></li>
  <li><a href="../modules/log.html">log</a></li>
  <li><a href="../modules/mgr_audio.html">mgr_audio</a></li>
  <li><a href="../modules/mgr_gamenetworks.html">mgr_gamenetworks</a></li>
  <li><a href="../modules/mgr_lang.html">mgr_lang</a></li>
  <li><strong>mgr_level</strong></li>
  <li><a href="../modules/mgr_levelhelper.html">mgr_levelhelper</a></li>
  <li><a href="../modules/mgr_popup.html">mgr_popup</a></li>
  <li><a href="../modules/mgr_res.html">mgr_res</a></li>
  <li><a href="../modules/mgr_tui.html">mgr_tui</a></li>
  <li><a href="../modules/mgr_tutorial.html">mgr_tutorial</a></li>
  <li><a href="../modules/mod_random.html">mod_random</a></li>
  <li><a href="../modules/mod_utils.html">mod_utils</a></li>
  <li><a href="../modules/syscfg.html">syscfg</a></li>
  <li><a href="../modules/ui_label.html">ui_label</a></li>
  <li><a href="../modules/ui_slide.html">ui_slide</a></li>
  <li><a href="../modules/ui_text.html">ui_text</a></li>
  <li><a href="../modules/utf8.html">utf8</a></li>
</ul>
<h2>Topics</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../topics/readme.md.html">readme</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>mgr_level</code></h1>
<p>mgr_level 管理关卡信息.</p>
<p>

 stageid项为空，默认当前的stageid<br />

 levelid项为空，使用当前的levelid<br />

 例如get_stage_level_count() 当前stageid的下的level数目.<br />

 例如get_level_star_count() 当前levelid的星星数目.<br />
</p>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>: 2014</li>
        <li><strong>Author</strong>: micheal</li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#get_current_stageid">get_current_stageid ()</a></td>
	<td class="summary">返回当前的stageid</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stageid">get_stageid (levelid)</a></td>
	<td class="summary">返回levelid所在的stageid</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_current_levelid">set_current_levelid (levelid)</a></td>
	<td class="summary">设置当前的levelid</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_current_levelid">get_current_levelid ()</a></td>
	<td class="summary">返回当前的levelid</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_next_levelid">get_next_levelid (levelid)</a></td>
	<td class="summary">返回下一个levelid，如果超出界限，返回false</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_prev_levelid">get_prev_levelid (levelid)</a></td>
	<td class="summary">返回上一个levelid，如果超出界限，返回false</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_current_levelid_to_prev">set_current_levelid_to_prev ()</a></td>
	<td class="summary">设置当前的level为上一个levelid，如果超出界限，返回false</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_current_levelid_to_next">set_current_levelid_to_next ()</a></td>
	<td class="summary">设置当前的level为下一个levelid，如果超出界限，返回false</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_total_level_count">get_total_level_count ()</a></td>
	<td class="summary">返回所有level的总数</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_total_stage_count">get_total_stage_count ()</a></td>
	<td class="summary">返回所有stage的总数（stage相当于大关）</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stage_level_count">get_stage_level_count (stageid)</a></td>
	<td class="summary">返回stageid所在stage下，level总数</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stage_ids">get_stage_ids ()</a></td>
	<td class="summary">返回所有的stageids的数组, [1,3,5,4,2]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stage_levelids">get_stage_levelids (stageid)</a></td>
	<td class="summary">返回stageid所在的levelid的数组[5,6,9,8]</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stage_levelid_index">get_stage_levelid_index (levelid)</a></td>
	<td class="summary">返回levelid所在stage中的位置</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stage_name">get_stage_name (stageid)</a></td>
	<td class="summary">返回stageid所在的stage的title</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_level_name">get_level_name (levelid)</a></td>
	<td class="summary">返回levelid所在的level的title</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_stage_unlock">set_stage_unlock (stageid, include_levels)</a></td>
	<td class="summary">设置stageid所在的stage为解锁状态</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_level_unlock">set_level_unlock (levelid)</a></td>
	<td class="summary">设置levelid所在的level为解锁状态</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_all_unlock">set_all_unlock ()</a></td>
	<td class="summary">设置所有的stage和level为unlock</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stage_locked">get_stage_locked (stageid)</a></td>
	<td class="summary">返回stageid所在的stage是否被锁定</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_level_locked">get_level_locked (levelid)</a></td>
	<td class="summary">返回levelid所在的level是否被锁定</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_level_clear">set_level_clear (levelid, star)</a></td>
	<td class="summary">设置levelid所在的level的star数目</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_level_clear">get_level_clear (levelid)</a></td>
	<td class="summary">返回levelid所在的level的clear状态</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_level_star_count">get_level_star_count (levelid)</a></td>
	<td class="summary">返回levelid所在的level的star数目</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stage_star_count">get_stage_star_count (stageid)</a></td>
	<td class="summary">返回stageid所在的stage的star数目</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stage_clear_count">get_stage_clear_count (stageid)</a></td>
	<td class="summary">返回stageid所在的stage的通关数目</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stage_clear">get_stage_clear (stageid)</a></td>
	<td class="summary">返回stageid所在的stage的是否通关</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_level_info">get_level_info (levelid)</a></td>
	<td class="summary">返回levelid所在的level的详细信息<br />

 {<br />

 &nbsp;&nbsp;&nbsp;&nbsp;clear => 0,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;prev_levelid => 87,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;title => "LEVEL 88",<br />

 &nbsp;&nbsp;&nbsp;&nbsp;next_levelid => 89,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;id => 88,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;star => 0,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;unlocked => 0,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;stageid => 8<br />

 }</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_stage_info">get_stage_info (stageid, include_levels)</a></td>
	<td class="summary">返回stageid所在的stage的详细信息<br />

 {<br />

 &nbsp;&nbsp;&nbsp;&nbsp;levels => table: 09535840 {[当前stageid下的level]},<br />

 &nbsp;&nbsp;&nbsp;&nbsp;prev_stageid => 8,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;levelcount => 12,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;id => 9,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;next_stageid => 10,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;unlocked => 0,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;title => "LEVEL 9"<br />

 }<br /></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#set_params">set_params (params)</a></td>
	<td class="summary">设置显示的stage、level参数<br />

 params={<br />

 &nbsp;&nbsp;&nbsp;&nbsp;level_name_format="world {levelid} - {sublevelid}" world   1-1<br />

 &nbsp;&nbsp;&nbsp;&nbsp;level_name_format="world {levelid} - {sublevelid20}" world 1-01<br />

 &nbsp;&nbsp;&nbsp;&nbsp;level_name_format="world {levelid} - {sublevelid30}" world 1-001<br />

 &nbsp;&nbsp;&nbsp;&nbsp;stage_name_format="world {stageid}"<br />

 }<br /></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#_send_to_gamecenter">_send_to_gamecenter (levelid)</a></td>
	<td class="summary">通过当前stage下所有关卡后，更新gamecenter图标</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#show_level_end_ad">show_level_end_ad ()</a></td>
	<td class="summary">显示过关后的广告(目前仅在失败时显示)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#level_begin">level_begin ()</a></td>
	<td class="summary">关卡开始时调用的，用于记录log</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#level_complete">level_complete (levelid)</a></td>
	<td class="summary">过关时调用的function</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#click_hint">click_hint ()</a></td>
	<td class="summary">点击使用hint后调用的function</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "get_current_stageid"></a>
    <strong>get_current_stageid ()</strong>
    </dt>
    <dd>
    返回当前的stageid







</dd>
    <dt>
    <a name = "get_stageid"></a>
    <strong>get_stageid (levelid)</strong>
    </dt>
    <dd>
    返回levelid所在的stageid


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_current_levelid"></a>
    <strong>set_current_levelid (levelid)</strong>
    </dt>
    <dd>
    设置当前的levelid


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_current_levelid"></a>
    <strong>get_current_levelid ()</strong>
    </dt>
    <dd>
    返回当前的levelid







</dd>
    <dt>
    <a name = "get_next_levelid"></a>
    <strong>get_next_levelid (levelid)</strong>
    </dt>
    <dd>
    返回下一个levelid，如果超出界限，返回false


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_prev_levelid"></a>
    <strong>get_prev_levelid (levelid)</strong>
    </dt>
    <dd>
    返回上一个levelid，如果超出界限，返回false


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_current_levelid_to_prev"></a>
    <strong>set_current_levelid_to_prev ()</strong>
    </dt>
    <dd>
    设置当前的level为上一个levelid，如果超出界限，返回false







</dd>
    <dt>
    <a name = "set_current_levelid_to_next"></a>
    <strong>set_current_levelid_to_next ()</strong>
    </dt>
    <dd>
    设置当前的level为下一个levelid，如果超出界限，返回false







</dd>
    <dt>
    <a name = "get_total_level_count"></a>
    <strong>get_total_level_count ()</strong>
    </dt>
    <dd>
    返回所有level的总数







</dd>
    <dt>
    <a name = "get_total_stage_count"></a>
    <strong>get_total_stage_count ()</strong>
    </dt>
    <dd>
    返回所有stage的总数（stage相当于大关）







</dd>
    <dt>
    <a name = "get_stage_level_count"></a>
    <strong>get_stage_level_count (stageid)</strong>
    </dt>
    <dd>
    返回stageid所在stage下，level总数


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stageid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_stage_ids"></a>
    <strong>get_stage_ids ()</strong>
    </dt>
    <dd>
    返回所有的stageids的数组, [1,3,5,4,2]







</dd>
    <dt>
    <a name = "get_stage_levelids"></a>
    <strong>get_stage_levelids (stageid)</strong>
    </dt>
    <dd>
    返回stageid所在的levelid的数组[5,6,9,8]


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stageid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_stage_levelid_index"></a>
    <strong>get_stage_levelid_index (levelid)</strong>
    </dt>
    <dd>
    返回levelid所在stage中的位置


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_stage_name"></a>
    <strong>get_stage_name (stageid)</strong>
    </dt>
    <dd>
    返回stageid所在的stage的title


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stageid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_level_name"></a>
    <strong>get_level_name (levelid)</strong>
    </dt>
    <dd>
    返回levelid所在的level的title


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_stage_unlock"></a>
    <strong>set_stage_unlock (stageid, include_levels)</strong>
    </dt>
    <dd>
    设置stageid所在的stage为解锁状态


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stageid</span>

        </li>
        <li><span class="parameter">include_levels</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_level_unlock"></a>
    <strong>set_level_unlock (levelid)</strong>
    </dt>
    <dd>
    设置levelid所在的level为解锁状态


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_all_unlock"></a>
    <strong>set_all_unlock ()</strong>
    </dt>
    <dd>
    设置所有的stage和level为unlock







</dd>
    <dt>
    <a name = "get_stage_locked"></a>
    <strong>get_stage_locked (stageid)</strong>
    </dt>
    <dd>
    返回stageid所在的stage是否被锁定


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stageid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_level_locked"></a>
    <strong>get_level_locked (levelid)</strong>
    </dt>
    <dd>
    返回levelid所在的level是否被锁定


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_level_clear"></a>
    <strong>set_level_clear (levelid, star)</strong>
    </dt>
    <dd>
    设置levelid所在的level的star数目


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
        <li><span class="parameter">star</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_level_clear"></a>
    <strong>get_level_clear (levelid)</strong>
    </dt>
    <dd>
    返回levelid所在的level的clear状态


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_level_star_count"></a>
    <strong>get_level_star_count (levelid)</strong>
    </dt>
    <dd>
    返回levelid所在的level的star数目


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_stage_star_count"></a>
    <strong>get_stage_star_count (stageid)</strong>
    </dt>
    <dd>
    返回stageid所在的stage的star数目


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stageid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_stage_clear_count"></a>
    <strong>get_stage_clear_count (stageid)</strong>
    </dt>
    <dd>
    返回stageid所在的stage的通关数目


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stageid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_stage_clear"></a>
    <strong>get_stage_clear (stageid)</strong>
    </dt>
    <dd>
    返回stageid所在的stage的是否通关


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stageid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_level_info"></a>
    <strong>get_level_info (levelid)</strong>
    </dt>
    <dd>
    返回levelid所在的level的详细信息<br />

 {<br />

 &nbsp;&nbsp;&nbsp;&nbsp;clear => 0,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;prev_levelid => 87,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;title => "LEVEL 88",<br />

 &nbsp;&nbsp;&nbsp;&nbsp;next_levelid => 89,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;id => 88,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;star => 0,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;unlocked => 0,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;stageid => 8<br />

 }


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_stage_info"></a>
    <strong>get_stage_info (stageid, include_levels)</strong>
    </dt>
    <dd>
    返回stageid所在的stage的详细信息<br />

 {<br />

 &nbsp;&nbsp;&nbsp;&nbsp;levels => table: 09535840 {[当前stageid下的level]},<br />

 &nbsp;&nbsp;&nbsp;&nbsp;prev_stageid => 8,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;levelcount => 12,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;id => 9,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;next_stageid => 10,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;unlocked => 0,<br />

 &nbsp;&nbsp;&nbsp;&nbsp;title => "LEVEL 9"<br />

 }<br />


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">stageid</span>

        </li>
        <li><span class="parameter">include_levels</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "set_params"></a>
    <strong>set_params (params)</strong>
    </dt>
    <dd>
    设置显示的stage、level参数<br />

 params={<br />

 &nbsp;&nbsp;&nbsp;&nbsp;level_name_format="world {levelid} - {sublevelid}" world   1-1<br />

 &nbsp;&nbsp;&nbsp;&nbsp;level_name_format="world {levelid} - {sublevelid20}" world 1-01<br />

 &nbsp;&nbsp;&nbsp;&nbsp;level_name_format="world {levelid} - {sublevelid30}" world 1-001<br />

 &nbsp;&nbsp;&nbsp;&nbsp;stage_name_format="world {stageid}"<br />

 }<br />


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">params</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "_send_to_gamecenter"></a>
    <strong>_send_to_gamecenter (levelid)</strong>
    </dt>
    <dd>
    通过当前stage下所有关卡后，更新gamecenter图标


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "show_level_end_ad"></a>
    <strong>show_level_end_ad ()</strong>
    </dt>
    <dd>
    显示过关后的广告(目前仅在失败时显示)







</dd>
    <dt>
    <a name = "level_begin"></a>
    <strong>level_begin ()</strong>
    </dt>
    <dd>
    关卡开始时调用的，用于记录log







</dd>
    <dt>
    <a name = "level_complete"></a>
    <strong>level_complete (levelid)</strong>
    </dt>
    <dd>
    过关时调用的function


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">levelid</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "click_hint"></a>
    <strong>click_hint ()</strong>
    </dt>
    <dd>
    点击使用hint后调用的function







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.2</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
